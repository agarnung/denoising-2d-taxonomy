<!-- HTML template generated in VSCode with html:5 command -->
<!DOCTYPE html>
<!-- all HTML documents must start with this (non-HTML) tag, so the browser knows what type of document to expect -->

<!-- Root of an HTML doc. The container of all oher elements -->
<html lang="en">
<!-- natural language of the webpage -->

<!-- First of the two main parts of an HTML doc. Non-visible info. resides here -->

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- FontAwesome -->
    <title>Image Denoising Taxonomy</title>
</head>

<!-- Secont of the two main parts of an HTML doc. Must be only one body. Contains all visible info. Order matters -->

<body>

    <!-- Container for introductory content or a set of navigational links (e.g. heading elements (<h1> - <h6>), logo, authorship...)-->
    <header>
        <!-- div: its purpose is group elements in areas which can be further formatted by CSS -->
        <!-- class: it is an atribute; all elements can have multiple, each can be manipulated in certain way by JS or CSS -->
        <div class="main">
            <div class="logo">
                <img src="./assets/logo.svg" alt="Logo"> <!-- alt: provide an alternative description -->
            </div>

            <!-- nav: navigation bar which links to other pages or parts in the page -->
            <nav>
                <!-- ul: defines an unordered list o list items (li) -->
                <ul>
                    <!-- The anchor tag 'a' creates a link to any URL -->
                    <li><a href="#">Home</a></li> <!-- href="#top" or href="#" links to the current page -->
                    <li><a href="./pages/papers.html">Papers</a></li> <!-- Link to another page located there -->
                    <li><a href="./pages/about.html">About</a></li>
                    <li>
                        <a href="#">More <i class="fas fa-caret-down"></i></a>
                        <!-- An icon from Font Awesome repository -->
                        <ul class="dropdown">
                            <li><a href="https://github.com/agarnung/awesome-3d-point-cloud-denoising">3D denoising</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <h1 style="color: rgb(235, 47, 47); font-size: 25px; font-family:'Times New Roman', Times, serif">--- Home ---</h1>

    <!-- Main content of the taxonomy -->
    <main>
        <!-- The content will be inserted here -->
    </main>

    <!-- Principal popup -->
    <div id="popup" class="popup">
        <button class="close-btn" onclick="closePopup()">X</button>
        <h2>Method Details</h2>
        <p id="popup-description">Description of the method goes here.</p>
        <div class="buttons">
            <button onclick="openMoreInfo()">More Info</button>
            <button onclick="openPapers()">Example</button>
        </div>
    </div>
        
    <!-- Aditional popups -->
    <div id="more-info-popup" class="popup">
        <button class="close-btn" onclick="closePopup('more-info-popup')">X</button>
        <h2>More Information</h2>
        <p>This is additional information about the selected method.</p>
    </div>

    <div id="papers-popup" class="popup">
        <button class="close-btn" onclick="closePopup('papers-popup')">X</button>
        <h2>Example</h2>
        <p>Here is an example of noisy and filtered image.</p>
    </div>
        
    <!-- Insert automatically the tree.html in the main with fetch script -->
    <script>
        // Function to load external HTML content dynamically
        function loadTaxonomyContent() {
            // Fetch the external HTML file (tree.html) from the specified path
            fetch('scripts/tree.html') // Provide the correct relative path to your HTML file
                .then(response => response.text()) // Parse the response as plain text (HTML)
                .then(data => {
                    // Once the HTML content is retrieved, insert it into the <main> element
                    document.querySelector('main').innerHTML = data; // The content is inserted into the <main> tag (can be adjusted to any other element)
                })
                .catch(error => {
                    // Log any error if fetching the content fails (e.g., file not found or network issue)
                    console.error('Error fetching the taxonomy content:', error);
                });
        }
    
        // Ensure the content is loaded as soon as the page has finished loading
        window.onload = loadTaxonomyContent; // Trigger the loadTaxonomyContent function when the page is fully loaded
    
        // Event listener for handling clicks on dynamically loaded content
        document.querySelector('body').addEventListener('click', function (event) {
            // Check if the clicked element is a "caret" (an expandable item in the taxonomy)
            if (event.target.classList.contains('caret')) {
                const nested = event.target.nextElementSibling; // Get the next sibling element (which should be a nested list)
                
                // Toggle the display of the nested element (show or hide based on current state)
                if (nested) {
                    nested.style.display = nested.style.display === 'block' ? 'none' : 'block';
                }
                
                // Toggle the 'active' class on the caret to change its visual state (e.g., change the icon)
                event.target.classList.toggle('active');
            }
        });
    </script>

    <!-- Link JS scripts -->
    <script src="./js/utils.js"></script>

</body>

</html>